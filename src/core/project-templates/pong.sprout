{"title":"Pong","workspace":{"selectedGameObjectKey":"aa845e50-4020-4236-9925-473a9273e957","selectedLibrarySpriteKey":"number_3"},"sprites":{"black":{"src":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCI+DQogICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9ImJsYWNrIiAvPg0KPC9zdmc+","width":100,"height":100},"white":{"src":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCI+DQogICAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IndoaXRlIiAvPg0KPC9zdmc+","width":100,"height":100},"number_0":{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAMAAADNcxasAAAABlBMVEX///8AAABVwtN+AAAAAnRSTlP/AOW3MEoAAAAQSURBVHicY2BAAYx4STgAAAC9AAbYD6p/AAAAHXRFWHRTb2Z0d2FyZQBAbHVuYXBhaW50L3BuZy1jb2RlY/VDGR4AAAAASUVORK5CYII=","width":5,"height":9},"number_1":{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAMAAADNcxasAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/1uRIrUAAAARSURBVHicY2BgZGRkYCCRBAADDwAcVgNbRgAAAB10RVh0U29mdHdhcmUAQGx1bmFwYWludC9wbmctY29kZWP1QxkeAAAAAElFTkSuQmCC","width":5,"height":9},"number_2":{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAMAAADNcxasAAAABlBMVEX///8AAABVwtN+AAAAAnRSTlP/AOW3MEoAAAAVSURBVHicY2BAAoyMjAzoACKGJgMAARQACsXko/wAAAAddEVYdFNvZnR3YXJlAEBsdW5hcGFpbnQvcG5nLWNvZGVj9UMZHgAAAABJRU5ErkJggg==","width":5,"height":9},"number_3":{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAJCAMAAADNcxasAAAABlBMVEX///8AAABVwtN+AAAAAnRSTlP/AOW3MEoAAAAUSURBVHicY2BAAoyMjAgSQwQJAAABowAOfR4bjAAAAB10RVh0U29mdHdhcmUAQGx1bmFwYWludC9wbmctY29kZWP1QxkeAAAAAElFTkSuQmCC","width":5,"height":9}},"stage":{"width":1920,"height":1080},"gameObjects":{"686040bd-f0e6-49f8-b09d-80ca25738e23":{"id":"background","visible":true,"layer":-1,"active_sprite":0,"sprites":["black"],"transform":{"x":960,"y":540,"rotation":0,"width":19.2,"height":10.8},"code":""},"39f1b488-4c38-427c-89d1-ce82ea1fc64d":{"id":"player_1_score","visible":true,"layer":0,"active_sprite":0,"sprites":["number_0","number_1","number_2","number_3"],"transform":{"x":850,"y":1010,"rotation":0,"width":10,"height":10},"code":"fun reset_points = () {\r\n  game_object.active_sprite = 0\r\n}\r\n\r\nfun add_point = () {\r\n  game_object.next_sprite()\r\n\r\n  if (game_object.active_sprite == 0)\r\n    game_objects.player_2_score.reset_points()\r\n}"},"be3f9532-5c1c-4a54-b97e-667e8a19bd91":{"id":"player_1","visible":true,"layer":1,"active_sprite":0,"sprites":["white"],"transform":{"x":70,"y":540,"rotation":0,"width":0.3,"height":2},"code":"const speed = 1500\r\nconst max_y = 980\r\nconst min_y = 100\r\n\r\nfun reset = () {\r\n  game_object.transform.y = 540\r\n}\r\n\r\non (game_objects.ball.playing && input.key.w.is_pressed) {\r\n  game_object.transform.move(0, speed)\r\n}\r\n\r\non (game_objects.ball.playing && input.key.s.is_pressed) {\r\n  game_object.transform.move(0, -speed)\r\n}\r\n\r\non (true) {\r\n  if (game_object.transform.y < min_y) game_object.transform.y = min_y\r\n  if (game_object.transform.y > max_y) game_object.transform.y = max_y\r\n}"},"aa845e50-4020-4236-9925-473a9273e957":{"id":"ball","visible":true,"layer":2,"active_sprite":0,"sprites":["white"],"transform":{"x":960,"y":540,"rotation":0,"width":0.3,"height":0.3},"code":"const start_speed = 1000\r\nconst speed_increase = 10\r\nconst angle_strength = 10\r\n\r\nvar playing = false\r\nvar speed = start_speed\r\nvar velocity_x = 0\r\nvar velocity_y = 0\r\n\r\nfun stop_game = () {\r\n  playing = false\r\n\r\n  speed = start_speed\r\n\r\n  game_object.transform.x = 960\r\n  game_object.transform.y = 540\r\n\r\n  velocity_x = 0\r\n  velocity_y = 0\r\n\r\n  game_objects.player_1.reset()\r\n  game_objects.player_2.reset()\r\n}\r\n\r\non (input.key.space.is_down) {\r\n  if (playing) return null\r\n  playing = true\r\n\r\n  const direction = if (Math.random() > 0.5) 1 else -1\r\n  velocity_x = speed * direction\r\n}\r\n\r\non (playing) {\r\n  speed += speed_increase * time.delta_time\r\n\r\n  // Limit the velocity to the speed\r\n  const magnitude = Math.sqrt(velocity_x ** 2 + velocity_y ** 2)\r\n  velocity_x = velocity_x / magnitude * speed\r\n  velocity_y = velocity_y / magnitude * speed\r\n\r\n  game_object.transform.move(velocity_x, velocity_y)\r\n}\r\n\r\n// Check for collisions with players\r\non (playing) {\r\n  const collisions = game_object.get_box_collisions([1])\r\n  if (collisions.length == 0) return null\r\n\r\n  const collision = collisions.first()\r\n  const is_on_right = collision.point.x > game_object.transform.x\r\n\r\n  if (is_on_right && velocity_x < 0) return null\r\n  if (!is_on_right && velocity_x > 0) return null\r\n  \r\n  velocity_x *= -1\r\n  velocity_y = -(collision.game_object.transform.y - game_object.transform.y) * angle_strength\r\n}\r\n\r\n// Check for roof and floor collisions\r\non (game_object.transform.get_bounds().max_y > stage.height && velocity_y > 0)\r\n  velocity_y *= -1\r\non (game_object.transform.get_bounds().min_y < 0 && velocity_y < 0)\r\n  velocity_y *= -1\r\n\r\non (playing) {\r\n  const player_1_won = game_object.transform.x > stage.width\r\n  const player_2_won = game_object.transform.x < 0\r\n\r\n  if (player_1_won || player_2_won) stop_game()\r\n  if (player_1_won) game_objects.player_1_score.add_point()\r\n  if (player_2_won) game_objects.player_2_score.add_point()\r\n}"},"403972ef-1129-4a1b-9718-70ec0706e3c4":{"id":"player_2","visible":true,"layer":1,"active_sprite":0,"sprites":["white"],"transform":{"x":1850,"y":540,"rotation":0,"width":0.3,"height":2},"code":"const speed = 1500\r\nconst max_y = 980\r\nconst min_y = 100\r\n\r\nfun reset = () {\r\n  game_object.transform.y = 540\r\n}\r\n\r\non (game_objects.ball.playing && input.key.arrow_up.is_pressed) {\r\n  game_object.transform.move(0, speed)\r\n}\r\n\r\non (game_objects.ball.playing && input.key.arrow_down.is_pressed) {\r\n  game_object.transform.move(0, -speed)\r\n}\r\n\r\non (true) {\r\n  if (game_object.transform.y < min_y) game_object.transform.y = min_y\r\n  if (game_object.transform.y > max_y) game_object.transform.y = max_y\r\n}"},"a86c06b8-90cf-426a-8db3-38cdddadd106":{"id":"player_2_score","visible":true,"layer":0,"active_sprite":0,"sprites":["number_0","number_1","number_2","number_3"],"transform":{"x":1060,"y":1010,"rotation":0,"width":10,"height":10},"code":"fun reset_points = () {\r\n  game_object.active_sprite = 0\r\n}\r\n\r\nfun add_point = () {\r\n  game_object.next_sprite()\r\n\r\n  if (game_object.active_sprite == 0)\r\n    game_objects.player_1_score.reset_points()\r\n}"}}}